"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[901],{1901:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(2791),a=t(9434),o=t(3634),s=function(e){return e.contacts.items},i=function(e){return e.contacts.isLoading},l=function(e){return e.contacts.error},u=function(e){return e.filter},c=t(9439),m=t(2732),d=t(2739),h=t(2817),b=t(6747),f=t(5206),p=t(5705),x="UpdateContactForm_form__928GT",_="UpdateContactForm_label__VnYi7",j="UpdateContactForm_input__rlPkT",v=t(184),C=function(e){var n=e.onClose,t=e.id,r=e.name,s=e.number,i=(0,a.I0)();console.log(t);var l=(0,p.TA)({initialValues:{name:r,number:s},onSubmit:function(e,r){var a=r.resetForm;i((0,o.Tk)({id:t,values:e})).unwrap().then((function(){n()})).catch((function(){return f.Am.error("Something went wrong. Please try again")})),a()}});return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("form",{className:x,onSubmit:l.handleSubmit,children:[(0,v.jsxs)("label",{className:_,id:"name",htmlFor:"name",children:["Name",(0,v.jsx)("input",{className:j,type:"text",name:"name",value:l.values.name,id:"name",onChange:l.handleChange,error:l.touched.name&&l.errors.name})]}),(0,v.jsxs)("label",{className:_,id:"number",htmlFor:"number",children:["Phone",(0,v.jsx)("input",{className:j,type:"tel",name:"number",value:l.values.number,id:"number",onChange:l.handleChange,error:l.touched.name&&l.errors.name})]}),(0,v.jsx)("button",{type:"submit",children:"Update contact"})]})})},g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,zIndex:1e3,borderRadius:"15px"},N=function(e){var n=e.isOpenModal,t=e.onClose,r=e.id,a=e.name,o=e.number;return(0,v.jsx)(m.Z,{open:n,onClose:t,closeAfterTransition:!0,backdrop:d.Z,props:{timeout:50},"aria-labelledby":"spring-modal-name","aria-describedby":"spring-modal-number",children:(0,v.jsx)(h.Z,{in:n,children:(0,v.jsx)(b.Z,{sx:g,children:(0,v.jsx)(C,{onClose:t,id:r,name:a,number:o})})})})},F={list:"ContactsList_list__mmE3Y",item:"ContactsList_item__6gc1x",updateBtn:"ContactsList_updateBtn__Ncq-d",name:"ContactsList_name__cbzy1",number:"ContactsList_number__9xIVj"},y=function(e){var n=e.id,t=e.name,s=e.number,i=(0,a.I0)();console.log(n);var l=(0,r.useState)(!1),u=(0,c.Z)(l,2),m=u[0],d=u[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{type:"button",onClick:function(){return d(!0)},className:F.updatebtn,children:"Update"}),(0,v.jsx)(N,{isOpenModal:m,onClose:function(){return d(!1)},id:n,name:t,number:s}),(0,v.jsx)("p",{className:F.name,children:t}),(0,v.jsx)("p",{className:F.number,children:s}),(0,v.jsx)("button",{type:"button",onClick:function(){return function(e){return i((0,o.GK)(e))}(n)},children:"Delete"})]})};function k(){var e=function(e,n){return n?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):e}((0,a.v9)(s),(0,a.v9)(u));return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("ul",{className:F.list,children:e.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,v.jsx)("li",{className:F.item,children:(0,v.jsx)(y,{id:n,name:t,number:r},n)},n)}))})})}var w=t(1634),L="Filter_label__vEd1E",S="Filter_input__N7T3z";function T(){var e=(0,a.v9)(u),n=(0,a.I0)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("label",{className:L,name:"filter",value:"filterValue",htmlFor:"filter",children:["Find contact by name",(0,v.jsx)("input",{className:S,type:"text",value:e,id:"filter",onChange:function(e){return n((0,w.T)(e.target.value))}})]})})}var I=t(2007),P=t.n(I),Z="ContactForm_form__dhl+T",A="ContactForm_label__-cVXI",U="ContactForm_input__Bl93P";function V(){var e=(0,r.useState)(""),n=(0,c.Z)(e,2),t=n[0],i=n[1],l=(0,r.useState)(""),u=(0,c.Z)(l,2),m=u[0],d=u[1],h=(0,a.v9)(s),b=(0,a.I0)(),f=function(e){e.preventDefault();if(function(e){return h.some((function(n){return n.name.toLowerCase()===e.toLowerCase()}))}(t))return alert("".concat(t," is already in contacts"));!function(e,n){b((0,o.uK)({name:e,number:n}))}(t,m),h.map((function(e){return console.log(e.id)})),i(""),d("")};return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("form",{className:Z,onSubmit:function(e){return f(e)},autoComplete:"off",children:[(0,v.jsxs)("label",{className:A,id:"name",htmlFor:"name",children:["Name",(0,v.jsx)("input",{className:U,type:"text",name:"name",value:t,id:"name",onChange:function(e){return i(e.target.value)}})]}),(0,v.jsxs)("label",{className:A,id:"number",htmlFor:"number",children:["Phone",(0,v.jsx)("input",{className:U,type:"tel",name:"number",value:m,id:"number",onChange:function(e){return d(e.target.value)}})]}),(0,v.jsx)("button",{type:"submit",disabled:!(t&&m),children:"Add contact"})]})})}V.propTyps={contacts:P().arrayOf(P().object).isRequired,onAddContact:P().func.isRequired};var q="ContactsPage_section__WlQMx";function E(){var e=(0,a.I0)(),n=(0,a.v9)(i),t=(0,a.v9)(s),u=(0,a.v9)(l);return(0,r.useEffect)((function(){e((0,o.yF)())}),[e]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:q,children:[(0,v.jsx)("h1",{children:"Phonebook"}),(0,v.jsx)(V,{}),n&&!u&&(0,v.jsx)("b",{children:"Request in progress..."})]}),t.length?(0,v.jsxs)("div",{className:q,children:[(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(T,{}),(0,v.jsx)(k,{})]}):null]})}}}]);
//# sourceMappingURL=901.97434690.chunk.js.map